<!DOCTYPE html>
<html>
  <head>

  </head>

  <body>

    <script>

      /*

      const xhr = new XMLHttpRequest;

      xhr.addEventListener('load', () => {
        console.log(xhr.response);
      });

      xhr.open('GET' , 'https://supersimplebackend.dev/greeting');
      xhr.send();
     
      
      function makeFetch() {
       const greeting = fetch('https://supersimplebackend.dev/greeting').then((response) => {
          return response.text();
        })
       return greeting;
      }
      
      makeFetch().then((value) => {
        console.log(value);
      });

       

      async function makeFetch() {
       const greeting = await fetch('https://supersimplebackend.dev/greeting');
       const text = await greeting.text();
       return text;
      }
      
     makeFetch().then((value) => {
        console.log(value);
      });

      

      async function makeFetch() {
       const greeting = await fetch('https://supersimplebackend.dev/greeting', {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        },
        body: JSON.stringify({
          name:'Madhan Kumar'
        })
       });
       const text = await greeting.text();
       console.log(text);
      }
      
     makeFetch();

     


     function getRequest () {
      const greeting = fetch('https://amazon.com').then((response) => {
         return response.text();
      })
        return greeting;
;     }

     getRequest().then((value) => {
        console.log(value);
      });
      

      async function getAmazon() {
       const greeting = await fetch('https://amazon.com');
       const text = await greeting.text();
       return text;
      }
      
     getAmazon().then((value) => {
        console.log(value);
      });

      


      async function getAmazon() {
        try {
       const greeting = await fetch('https://amazon.com');
       const text = await greeting.text();
       console.log(text);
      } catch (error) {
        console.log(error);
        console.log('CORS error : Request was blocked by the backend');
      }
      }
      
     getAmazon();

     */

     async function makeFetch() {
      try {
       const response = await fetch('https://supersimplebackend.dev/greeting', {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        }
        
       });
       if (response.status >= 400) {
        throw response;
       }

       const text = response.text();
       console.log(text);
      
     } catch (error) {
      if(error.status === 400) { 
        const errorMessage = await error.json();
        console.log(errorMessage);
      } else{
        console.log('Network error: Please try again later');
      }
    }
  }
     
      
     makeFetch();

     console.log(crypto.randomUUID());
     
     

    </script>

  </body>
</html>